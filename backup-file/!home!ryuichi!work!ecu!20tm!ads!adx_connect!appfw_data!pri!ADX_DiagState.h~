#ifndef DATA_DEFINITION_ADX_DIAGSTATE_H
#define DATA_DEFINITION_ADX_DIAGSTATE_H

#include "ADXDigsmInfo.h"
#include "appfw.h"
#include "system_constants.h"
#include <stddef.h>

#define ADX_DIAGSTATE_DATAINFO                                                 \
  "{\"name\": \"ADX_DiagState\", \"description\": "                            \
  "\"ADX\u30c0\u30a4\u30a2\u30b0\u72b6\u614b\", \"members\": [{\"name\": "     \
  "\"adx_digsm_resrc_sm_timestamp\", \"type\": \"uint32_t\", \"unit\": "       \
  "\"ms\", \"description\": "                                                  \
  "\"\u30c7\u30fc\u30bf\u9001\u4fe1\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7" \
  "\", \"min\": 0, \"max\": 4294967295, \"ignore_naming_rule\": true}, "       \
  "{\"name\": \"adx_digsm_info\", \"type\": " ADXDIGSMINFO_DATAINFO            \
  ", \"description\": \"\u30c0\u30a4\u30a2\u30b0\u60c5\u5831\", "              \
  "\"ignore_naming_rule\": true}], \"ignore_naming_rule\": true, \"ads\": "    \
  "false, \"name_snake_case\": \"adx_diag_state\"}"

#ifdef __cplusplus
extern "C" {
#endif

// ADX_DiagState.hで定義されている型をシリアライズした時のバイト数
#define ADX_DIAGSTATE_SERIALIZED_SIZE (4 + ADXDIGSMINFO_SERIALIZED_SIZE)

// 定数の定義
#define ADX_DIAG_STATE_ADX_DIGSM_RESRC_SM_TIMESTAMP_MIN ((uint32_t)0)
#define ADX_DIAG_STATE_ADX_DIGSM_RESRC_SM_TIMESTAMP_MAX ((uint32_t)4294967295)

/* ADXダイアグ状態 */
typedef struct {
  uint32_t adx_digsm_resrc_sm_timestamp; /* データ送信タイムスタンプ */
  ADXDigsmInfo adx_digsm_info;           /* ダイアグ情報 */
} ADX_DiagState;

size_t SerializeADX_DiagState(void *buffer, ADX_DiagState *data,
                              size_t max_buffer_size);
size_t SerializeADX_DiagStateAutoRelease(void *buffer, void *data,
                                         size_t max_buffer_size);
size_t DeserializeADX_DiagState(ADX_DiagState *data, void *buffer);
bool IsEqualADX_DiagState(ADX_DiagState *data1, ADX_DiagState *data2);
void InitializeADX_DiagState(ADX_DiagState *data);
void InitializeDefaultOnlyADX_DiagState(ADX_DiagState *data);

#ifdef __cplusplus
}
#endif

#endif // DATA_DEFINITION_ADX_DIAGSTATE_H
