#ifndef DATA_DEFINITION_DLRSMSTATUSINFO_H
#define DATA_DEFINITION_DLRSMSTATUSINFO_H

#include "DlrsmInfo.h"
#include "DlrsmStatus.h"
#include "appfw.h"
#include "system_constants.h"
#include <stddef.h>

#define DLRSMSTATUSINFO_DATAINFO                                               \
  "{\"name\": \"DlrsmStatusInfo\", \"description\": "                          \
  "\"ADX\u8a8d\u8b58\u30bb\u30f3\u30b5\u6545\u969c\u72b6\u614b\u60c5\u5831\"," \
  " \"members\": [{\"name\": \"dlrsm_data_send_timestamp\", \"type\": "        \
  "\"uint32_t\", \"default\": \"0.0\", \"unit\": \"ms\", \"description\": "    \
  "\"\u30c7\u30fc\u30bf\u9001\u4fe1\u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7" \
  "\", \"min\": 0, \"max\": 4290000000, \"lsb\": 1}, {\"name\": "              \
  "\"dlrsm_info\", \"type\": " DLRSMINFO_DATAINFO                              \
  ", \"description\": \"ADX\u8a8d\u8b58\u30a2\u30d7\u30ea\u72b6\u614b\"}, "    \
  "{\"name\": \"dlrsm_status\", \"type\": " DLRSMSTATUS_DATAINFO               \
  ", \"description\": \"ADX\u5468\u8fba\u76e3\u8996\u72b6\u614b\"}, "          \
  "{\"name\": \"dlrsm_status_management_rsv\", \"type\": \"uint8_t\", "        \
  "\"default\": \"0.0\", \"dimension\": [8], \"description\": "                \
  "\"\u4e88\u5099\u4fe1\u53f7\", \"min\": 0, \"max\": 255}], \"ads\": false, " \
  "\"name_snake_case\": \"dlrsm_status_info\"}"

#ifdef __cplusplus
extern "C" {
#endif

// DlrsmStatusInfo.hで定義されている型をシリアライズした時のバイト数
#define DLRSMSTATUSINFO_SERIALIZED_SIZE                                        \
  (4 + DLRSMINFO_SERIALIZED_SIZE + DLRSMSTATUS_SERIALIZED_SIZE + 1 * (8))

// 定数の定義
#define DLRSM_STATUS_INFO_DLRSM_DATA_SEND_TIMESTAMP_MIN ((uint32_t)0)
#define DLRSM_STATUS_INFO_DLRSM_DATA_SEND_TIMESTAMP_MAX ((uint32_t)4290000000)
#define DLRSM_STATUS_INFO_DLRSM_STATUS_MANAGEMENT_RSV_MIN ((uint8_t)0)
#define DLRSM_STATUS_INFO_DLRSM_STATUS_MANAGEMENT_RSV_MAX ((uint8_t)255)
#define DLRSM_STATUS_INFO_DLRSM_STATUS_MANAGEMENT_RSV_DIM1 ((size_t)8)

/* ADX認識センサ故障状態情報 */
typedef struct {
  uint32_t dlrsm_data_send_timestamp; /* データ送信タイムスタンプ */
  DlrsmInfo dlrsm_info;               /* ADX認識アプリ状態 */
  DlrsmStatus dlrsm_status;           /* ADX周辺監視状態 */
  uint8_t dlrsm_status_management_rsv[8]; /* 予備信号 */
} DlrsmStatusInfo;

size_t SerializeDlrsmStatusInfo(void *buffer, DlrsmStatusInfo *data,
                                size_t max_buffer_size);
size_t DeserializeDlrsmStatusInfo(DlrsmStatusInfo *data, void *buffer);
size_t SerializeDlrsmStatusInfoAutoRelease(void *buffer, void *data,
                                           size_t max_buffer_size);
size_t DeserializeDlrsmStatusInfoForDumper(void *data, void *buffer);
bool IsEqualDlrsmStatusInfo(DlrsmStatusInfo *data1, DlrsmStatusInfo *data2);
void InitializeDlrsmStatusInfo(DlrsmStatusInfo *data);
void InitializeDefaultOnlyDlrsmStatusInfo(DlrsmStatusInfo *data);

#ifdef __cplusplus
}
#endif

#endif // DATA_DEFINITION_DLRSMSTATUSINFO_H
