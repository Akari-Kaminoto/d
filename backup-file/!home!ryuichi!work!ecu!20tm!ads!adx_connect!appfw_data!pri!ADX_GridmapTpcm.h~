#ifndef DATA_DEFINITION_ADX_GRIDMAPTPCM_H
#define DATA_DEFINITION_ADX_GRIDMAPTPCM_H

#include "CarState.h"
#include "FreeSpaceInfo.h"
#include "appfw.h"
#include "system_constants.h"
#include <stddef.h>

#define ADX_GRIDMAPTPCM_DATAINFO                                               \
  "{\"name\": \"ADX_GridmapTpcm\", \"description\": "                          \
  "\"\u30b0\u30ea\u30c3\u30c9\u30de\u30c3\u30d7 (\u671b\u9060)\", "            \
  "\"members\": [{\"name\": \"adx_gm_tpcm_car_state\", "                       \
  "\"type\": " CARSTATE_DATAINFO                                               \
  ", \"description\": \"\u81ea\u8eca\u4f4d\u7f6e\u60c5\u5831\", "              \
  "\"ignore_naming_rule\": true}, {\"name\": "                                 \
  "\"adx_gm_tpcm_free_space_info\", \"type\": " FREESPACEINFO_DATAINFO         \
  ", \"dimension\": [240000], \"description\": "                               \
  "\"\u30d5\u30ea\u30fc\u30b9\u30da\u30fc\u30b9\u8a8d\u8b58\u60c5\u5831\", "   \
  "\"ignore_naming_rule\": true}], \"ignore_naming_rule\": true, \"ads\": "    \
  "false, \"name_snake_case\": \"adx_gridmap_tpcm\"}"

#ifdef __cplusplus
extern "C" {
#endif

// ADX_GridmapTpcm.hで定義されている型をシリアライズした時のバイト数
#define ADX_GRIDMAPTPCM_SERIALIZED_SIZE                                        \
  (CARSTATE_SERIALIZED_SIZE + FREESPACEINFO_SERIALIZED_SIZE * (240000))

// 定数の定義
#define ADX_GRIDMAP_TPCM_ADX_GM_TPCM_FREE_SPACE_INFO_DIM1 ((size_t)240000)

/* グリッドマップ (望遠) */
typedef struct {
  CarState adx_gm_tpcm_car_state; /* 自車位置情報 */
  FreeSpaceInfo
      adx_gm_tpcm_free_space_info[240000]; /* フリースペース認識情報 */
} ADX_GridmapTpcm;

size_t SerializeADX_GridmapTpcm(void *buffer, ADX_GridmapTpcm *data,
                                size_t max_buffer_size);
size_t SerializeADX_GridmapTpcmAutoRelease(void *buffer, void *data,
                                           size_t max_buffer_size);
size_t DeserializeADX_GridmapTpcm(ADX_GridmapTpcm *data, void *buffer);
bool IsEqualADX_GridmapTpcm(ADX_GridmapTpcm *data1, ADX_GridmapTpcm *data2);
void InitializeADX_GridmapTpcm(ADX_GridmapTpcm *data);
void InitializeDefaultOnlyADX_GridmapTpcm(ADX_GridmapTpcm *data);

#ifdef __cplusplus
}
#endif

#endif // DATA_DEFINITION_ADX_GRIDMAPTPCM_H
