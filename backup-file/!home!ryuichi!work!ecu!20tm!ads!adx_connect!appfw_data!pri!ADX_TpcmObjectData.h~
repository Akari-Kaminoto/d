#ifndef DATA_DEFINITION_ADX_TPCMOBJECTDATA_H
#define DATA_DEFINITION_ADX_TPCMOBJECTDATA_H

#include "CarState.h"
#include "ObjInfo.h"
#include "appfw.h"
#include "system_constants.h"
#include <stddef.h>

#define ADX_TPCMOBJECTDATA_DATAINFO                                            \
  "{\"name\": \"ADX_TpcmObjectData\", \"description\": "                       \
  "\"\u7269\u6a19\u60c5\u5831 (\u671b\u9060)\", \"members\": [{\"name\": "     \
  "\"adx_obj_tpcm_car_state\", \"type\": " CARSTATE_DATAINFO                   \
  ", \"description\": \"\u81ea\u8eca\u4f4d\u7f6e\u60c5\u5831\", "              \
  "\"ignore_naming_rule\": true}, {\"name\": \"adx_tpcm_obj_status\", "        \
  "\"type\": " OBJINFO_DATAINFO                                                \
  ", \"dimension\": [256], \"description\": \"\u7269\u6a19\u60c5\u5831\", "    \
  "\"ignore_naming_rule\": true}], \"ignore_naming_rule\": true, \"ads\": "    \
  "false, \"name_snake_case\": \"adx_tpcm_object_data\"}"

#ifdef __cplusplus
extern "C" {
#endif

// ADX_TpcmObjectData.hで定義されている型をシリアライズした時のバイト数
#define ADX_TPCMOBJECTDATA_SERIALIZED_SIZE                                     \
  (CARSTATE_SERIALIZED_SIZE + OBJINFO_SERIALIZED_SIZE * (256))

// 定数の定義
#define ADX_TPCM_OBJECT_DATA_ADX_TPCM_OBJ_STATUS_DIM1 ((size_t)256)

/* 物標情報 (望遠) */
typedef struct {
  CarState adx_obj_tpcm_car_state;  /* 自車位置情報 */
  ObjInfo adx_tpcm_obj_status[256]; /* 物標情報 */
} ADX_TpcmObjectData;

size_t SerializeADX_TpcmObjectData(void *buffer, ADX_TpcmObjectData *data,
                                   size_t max_buffer_size);
size_t SerializeADX_TpcmObjectDataAutoRelease(void *buffer, void *data,
                                              size_t max_buffer_size);
size_t DeserializeADX_TpcmObjectData(ADX_TpcmObjectData *data, void *buffer);
bool IsEqualADX_TpcmObjectData(ADX_TpcmObjectData *data1,
                               ADX_TpcmObjectData *data2);
void InitializeADX_TpcmObjectData(ADX_TpcmObjectData *data);
void InitializeDefaultOnlyADX_TpcmObjectData(ADX_TpcmObjectData *data);

#ifdef __cplusplus
}
#endif

#endif // DATA_DEFINITION_ADX_TPCMOBJECTDATA_H
