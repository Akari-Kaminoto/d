#ifndef DATA_DEFINITION_ADX_LCMOBJECTDATA_H
#define DATA_DEFINITION_ADX_LCMOBJECTDATA_H

#include "CarState.h"
#include "ObjInfo.h"
#include "appfw.h"
#include "system_constants.h"
#include <stddef.h>

#define ADX_LCMOBJECTDATA_DATAINFO                                             \
  "{\"name\": \"ADX_LcmObjectData\", \"description\": "                        \
  "\"\u7269\u6a19\u60c5\u5831 (\u30ed\u30b1\u30ab\u30e1)\", \"members\": "     \
  "[{\"name\": \"adx_obj_lcm_car_state\", \"type\": " CARSTATE_DATAINFO        \
  ", \"description\": \"\u81ea\u8eca\u4f4d\u7f6e\u60c5\u5831\", "              \
  "\"ignore_naming_rule\": true}, {\"name\": \"adx_lcm_obj_status\", "         \
  "\"type\": " OBJINFO_DATAINFO                                                \
  ", \"dimension\": [256], \"description\": \"\u7269\u6a19\u60c5\u5831\", "    \
  "\"ignore_naming_rule\": true}, {\"name\": \"adx_lcm_cnt_map_num\", "        \
  "\"type\": \"uint8_t\", \"min\": 0, \"max\": 255, \"lsb\": 1, \"default\": " \
  "\"255\", \"description\": "                                                 \
  "\"\u30de\u30cb\u30e5\u30a2\u30eb\u5236\u5fa1\u30de\u30c3\u30d7\u30ca\u30f3" \
  "\u30d0\u30fc\", \"ignore_naming_rule\": true}, {\"name\": "                 \
  "\"adx_lcm_exp_cnt_flag\", \"type\": \"uint8_t\", \"min\": 0, \"max\": "     \
  "255, \"lsb\": 1, \"default\": \"255\", \"description\": "                   \
  "\"\u9732\u51fa\u30de\u30cb\u30e5\u30a2\u30eb\u5236\u5fa1\u30d5\u30e9\u30b0" \
  "\", \"ignore_naming_rule\": true}], \"ignore_naming_rule\": true, "         \
  "\"ads\": false, \"name_snake_case\": \"adx_lcm_object_data\"}"

#ifdef __cplusplus
extern "C" {
#endif

// ADX_LcmObjectData.hで定義されている型をシリアライズした時のバイト数
#define ADX_LCMOBJECTDATA_SERIALIZED_SIZE                                      \
  (CARSTATE_SERIALIZED_SIZE + OBJINFO_SERIALIZED_SIZE * (256) + 1 + 1)

// 定数の定義
#define ADX_LCM_OBJECT_DATA_ADX_LCM_OBJ_STATUS_DIM1 ((size_t)256)
#define ADX_LCM_OBJECT_DATA_ADX_LCM_CNT_MAP_NUM_MIN ((uint8_t)0)
#define ADX_LCM_OBJECT_DATA_ADX_LCM_CNT_MAP_NUM_MAX ((uint8_t)255)
#define ADX_LCM_OBJECT_DATA_ADX_LCM_EXP_CNT_FLAG_MIN ((uint8_t)0)
#define ADX_LCM_OBJECT_DATA_ADX_LCM_EXP_CNT_FLAG_MAX ((uint8_t)255)

/* 物標情報 (ロケカメ) */
typedef struct {
  CarState adx_obj_lcm_car_state;  /* 自車位置情報 */
  ObjInfo adx_lcm_obj_status[256]; /* 物標情報 */
  uint8_t adx_lcm_cnt_map_num;  /* マニュアル制御マップナンバー */
  uint8_t adx_lcm_exp_cnt_flag; /* 露出マニュアル制御フラグ */
} ADX_LcmObjectData;

size_t SerializeADX_LcmObjectData(void *buffer, ADX_LcmObjectData *data,
                                  size_t max_buffer_size);
size_t SerializeADX_LcmObjectDataAutoRelease(void *buffer, void *data,
                                             size_t max_buffer_size);
size_t DeserializeADX_LcmObjectData(ADX_LcmObjectData *data, void *buffer);
bool IsEqualADX_LcmObjectData(ADX_LcmObjectData *data1,
                              ADX_LcmObjectData *data2);
void InitializeADX_LcmObjectData(ADX_LcmObjectData *data);
void InitializeDefaultOnlyADX_LcmObjectData(ADX_LcmObjectData *data);

#ifdef __cplusplus
}
#endif

#endif // DATA_DEFINITION_ADX_LCMOBJECTDATA_H
